{"version":3,"file":"index.js","sources":["../../components/base/base-plugin.js","../../components/base/custom-event.js","../../components/base/uniqueid-mixin.js","../../node_modules/@material/base/foundation.js","../../node_modules/@material/menu/adapter.js","../../node_modules/@material/menu/constants.js","../../node_modules/@material/menu-surface/adapter.js","../../node_modules/@material/menu-surface/constants.js","../../node_modules/@material/menu-surface/foundation.js","../../node_modules/@material/list/adapter.js","../../node_modules/@material/list/constants.js","../../node_modules/@material/list/foundation.js","../../node_modules/@material/menu/foundation.js","../../components/menu/mdc-menu.vue","../../node_modules/@material/menu-surface/util.js","../../components/menu/mdc-menu-surface.vue","../../components/menu/mdc-menu-item.vue","../../components/menu/mdc-menu-divider.vue","../../components/menu/mdc-menu-anchor.vue","../../components/menu/index.js"],"sourcesContent":["export function BasePlugin(components) {\n  return {\n    version: '__VERSION__',\n    install: vm => {\n      for (let key in components) {\n        let component = components[key]\n        vm.component(component.name, component)\n      }\n    },\n    components\n  }\n}\n","/* global CustomEvent */\n\nexport function emitCustomEvent(el, evtType, evtData, shouldBubble = false) {\n  let evt\n  if (typeof CustomEvent === 'function') {\n    evt = new CustomEvent(evtType, {\n      detail: evtData,\n      bubbles: shouldBubble\n    })\n  } else {\n    evt = document.createEvent('CustomEvent')\n    evt.initCustomEvent(evtType, shouldBubble, false, evtData)\n  }\n  el.dispatchEvent(evt)\n}\n","const scope =\n  Math.floor(Math.random() * Math.floor(0x10000000)).toString() + '-'\n\nexport const VMAUniqueIdMixin = {\n  beforeCreate() {\n    this.vma_uid_ = scope + this._uid\n  }\n}\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * @template A\n */\nclass MDCFoundation {\n  /** @return enum{cssClasses} */\n  static get cssClasses() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports every\n    // CSS class the foundation class needs as a property. e.g. {ACTIVE: 'mdc-component--active'}\n    return {};\n  }\n\n  /** @return enum{strings} */\n  static get strings() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports all\n    // semantic strings as constants. e.g. {ARIA_ROLE: 'tablist'}\n    return {};\n  }\n\n  /** @return enum{numbers} */\n  static get numbers() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports all\n    // of its semantic numbers as constants. e.g. {ANIMATION_DELAY_MS: 350}\n    return {};\n  }\n\n  /** @return {!Object} */\n  static get defaultAdapter() {\n    // Classes extending MDCFoundation may choose to implement this getter in order to provide a convenient\n    // way of viewing the necessary methods of an adapter. In the future, this could also be used for adapter\n    // validation.\n    return {};\n  }\n\n  /**\n   * @param {A=} adapter\n   */\n  constructor(adapter = {}) {\n    /** @protected {!A} */\n    this.adapter_ = adapter;\n  }\n\n  init() {\n    // Subclasses should override this method to perform initialization routines (registering events, etc.)\n  }\n\n  destroy() {\n    // Subclasses should override this method to perform de-initialization routines (de-registering events, etc.)\n  }\n}\n\nexport default MDCFoundation;\n","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/* eslint no-unused-vars: [2, {\"args\": \"none\"}] */\n\n/**\n * Adapter for MDC Menu. Provides an interface for managing\n * - selected element classes\n * - get focused elements\n * - toggling a checkbox inside a list item\n *\n * Additionally, provides type information for the adapter to the Closure\n * compiler.\n *\n * Implement this adapter for your framework of choice to delegate updates to\n * the component in your framework of choice. See architecture documentation\n * for more details.\n * https://github.com/material-components/material-components-web/blob/master/docs/code/architecture.md\n *\n * @record\n */\nclass MDCMenuAdapter {\n  /**\n   * Adds a class to the element at the index provided.\n   * @param {number} index\n   * @param {string} className\n   */\n  addClassToElementAtIndex(index, className) {}\n\n  /**\n   * Removes a class from the element at the index provided\n   * @param {number} index\n   * @param {string} className\n   */\n  removeClassFromElementAtIndex(index, className) {}\n\n  /**\n   * Adds an attribute, with value, to the element at the index provided.\n   * @param {number} index\n   * @param {string} attr\n   * @param {string} value\n   */\n  addAttributeToElementAtIndex(index, attr, value) {}\n\n  /**\n   * Removes an attribute from an element at the index provided.\n   * @param {number} index\n   * @param {string} attr\n   */\n  removeAttributeFromElementAtIndex(index, attr) {}\n\n  /**\n   * Returns true if the element contains the className.\n   * @param {?HTMLElement} element\n   * @param {string} className\n   * @return {boolean} true if the element contains the className\n   */\n  elementContainsClass(element, className) {}\n\n  /**\n   * Closes the menu-surface.\n   */\n  closeSurface() {}\n\n  /**\n   * Returns the index for the element provided.\n   * @param {?HTMLElement} element\n   * @return {number} index of the element in the list or -1 if it is not in the list.\n   */\n  getElementIndex(element) {}\n\n  /**\n   * Returns the parentElement of the provided element.\n   * @param {?HTMLElement} element\n   * @return {?HTMLElement} parentElement of the element provided.\n   */\n  getParentElement(element) {}\n\n  /**\n   * Returns the element within the selectionGroup containing the selected element class.\n   * @param {!HTMLElement} selectionGroup\n   * @return {number} element within the selectionGroup that contains the selected element class.\n   */\n  getSelectedElementIndex(selectionGroup) {}\n\n  /**\n   * Emits an event using the evtData.\n   * @param {{\n *    index: number\n *   }} evtData\n   */\n  notifySelected(evtData) {}\n}\n\nexport {MDCMenuAdapter};\n","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/** @enum {string} */\nconst cssClasses = {\n  ROOT: 'mdc-menu',\n  MENU_SELECTED_LIST_ITEM: 'mdc-menu-item--selected',\n  MENU_SELECTION_GROUP: 'mdc-menu__selection-group',\n};\n\n/** @enum {string} */\nconst strings = {\n  SELECTED_EVENT: 'MDCMenu:selected',\n  ARIA_SELECTED_ATTR: 'aria-selected',\n  LIST_SELECTOR: '.mdc-list',\n  CHECKBOX_SELECTOR: 'input[type=\"checkbox\"]',\n};\n\nexport {cssClasses, strings};\n","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/* eslint no-unused-vars: [2, {\"args\": \"none\"}] */\n\n/**\n * Adapter for MDCMenuSurface. Provides an interface for managing\n * - classes\n * - dom\n * - focus\n * - position\n * - dimensions\n * - event handlers\n *\n * Additionally, provides type information for the adapter to the Closure\n * compiler.\n *\n * Implement this adapter for your framework of choice to delegate updates to\n * the component in your framework of choice. See architecture documentation\n * for more details.\n * https://github.com/material-components/material-components-web/blob/master/docs/code/architecture.md\n *\n * @record\n */\nclass MDCMenuSurfaceAdapter {\n  /** @param {string} className */\n  addClass(className) {}\n\n  /** @param {string} className */\n  removeClass(className) {}\n\n  /**\n   * @param {string} className\n   * @return {boolean}\n   */\n  hasClass(className) {}\n\n  /** @return {boolean} */\n  hasAnchor() {}\n\n  /** Emits an event when the menu surface is closed. */\n  notifyClose() {}\n\n  /** Emits an event when the menu surface is opened. */\n  notifyOpen() {}\n\n  /**\n   * @return {boolean}\n   * @param {EventTarget} el\n   */\n  isElementInContainer(el) {}\n\n  /** @return {boolean} */\n  isRtl() {}\n\n  /** @param {string} origin */\n  setTransformOrigin(origin) {}\n\n  /** @return {boolean} */\n  isFocused() {}\n\n  /** Saves the element that was focused before the menu surface was opened. */\n  saveFocus() {}\n\n  /** Restores focus to the element that was focused before the menu surface was opened. */\n  restoreFocus() {}\n\n  /** @return {boolean} */\n  isFirstElementFocused() {}\n\n  /** @return {boolean} */\n  isLastElementFocused() {}\n\n  /** Focuses the first focusable element in the menu-surface. */\n  focusFirstElement() {}\n\n  /** Focuses the first focusable element in the menu-surface. */\n  focusLastElement() {}\n\n  /** @return {!{width: number, height: number}} */\n  getInnerDimensions() {}\n\n  /** @return {!{width: number, height: number, top: number, right: number, bottom: number, left: number}} */\n  getAnchorDimensions() {}\n\n  /** @return {!{ width: number, height: number }} */\n  getWindowDimensions() {}\n\n  /** @return {!{ width: number, height: number }} */\n  getBodyDimensions() {}\n\n  /** @return {!{ width: number, height: number }} */\n  getWindowScroll() {}\n\n  /** @param {!{\n  *   top: (string|undefined),\n  *   right: (string|undefined),\n  *   bottom: (string|undefined),\n  *   left: (string|undefined)\n  * }} position */\n  setPosition(position) {}\n\n  /** @param {string} height */\n  setMaxHeight(height) {}\n}\n\nexport {MDCMenuSurfaceAdapter};\n","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/** @enum {string} */\nconst cssClasses = {\n  ANCHOR: 'mdc-menu-surface--anchor',\n  ANIMATING_CLOSED: 'mdc-menu-surface--animating-closed',\n  ANIMATING_OPEN: 'mdc-menu-surface--animating-open',\n  FIXED: 'mdc-menu-surface--fixed',\n  OPEN: 'mdc-menu-surface--open',\n  ROOT: 'mdc-menu-surface',\n};\n\n/** @enum {string} */\nconst strings = {\n  CLOSED_EVENT: 'MDCMenuSurface:closed',\n  OPENED_EVENT: 'MDCMenuSurface:opened',\n  FOCUSABLE_ELEMENTS: 'button:not(:disabled), [href]:not([aria-disabled=\"true\"]), input:not(:disabled), ' +\n  'select:not(:disabled), textarea:not(:disabled), [tabindex]:not([tabindex=\"-1\"]):not([aria-disabled=\"true\"])',\n};\n\n/** @enum {number} */\nconst numbers = {\n  // Total duration of menu-surface open animation.\n  TRANSITION_OPEN_DURATION: 120,\n  // Total duration of menu-surface close animation.\n  TRANSITION_CLOSE_DURATION: 75,\n  // Margin left to the edge of the viewport when menu-surface is at maximum possible height.\n  MARGIN_TO_EDGE: 32,\n  // Ratio of anchor width to menu-surface width for switching from corner positioning to center positioning.\n  ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO: 0.67,\n};\n\n/**\n * Enum for bits in the {@see Corner) bitmap.\n * @enum {number}\n */\nconst CornerBit = {\n  BOTTOM: 1,\n  CENTER: 2,\n  RIGHT: 4,\n  FLIP_RTL: 8,\n};\n\n/**\n * Enum for representing an element corner for positioning the menu-surface.\n *\n * The START constants map to LEFT if element directionality is left\n * to right and RIGHT if the directionality is right to left.\n * Likewise END maps to RIGHT or LEFT depending on the directionality.\n *\n * @enum {number}\n */\nconst Corner = {\n  TOP_LEFT: 0,\n  TOP_RIGHT: CornerBit.RIGHT,\n  BOTTOM_LEFT: CornerBit.BOTTOM,\n  BOTTOM_RIGHT: CornerBit.BOTTOM | CornerBit.RIGHT,\n  TOP_START: CornerBit.FLIP_RTL,\n  TOP_END: CornerBit.FLIP_RTL | CornerBit.RIGHT,\n  BOTTOM_START: CornerBit.BOTTOM | CornerBit.FLIP_RTL,\n  BOTTOM_END: CornerBit.BOTTOM | CornerBit.RIGHT | CornerBit.FLIP_RTL,\n};\n\nexport {cssClasses, strings, numbers, CornerBit, Corner};\n","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * @typedef {{\n *   top: number,\n *   right: number,\n *   bottom: number,\n *   left: number\n * }}\n */\nlet AnchorMargin;\n\n/* eslint-disable no-unused-vars */\n/**\n * @typedef {{\n *   viewport: { width: number, height: number },\n *   viewportDistance: {top: number, right: number, bottom: number, left: number},\n *   anchorHeight: number,\n *   anchorWidth: number,\n *   surfaceHeight: number,\n *   surfaceWidth: number,\n *   bodyDimensions,\n *   windowScroll,\n * }}\n */\nlet AutoLayoutMeasurements;\n/* eslint-enable no-unused-vars */\n\nimport MDCFoundation from '@material/base/foundation';\nimport {MDCMenuSurfaceAdapter} from './adapter';\nimport {cssClasses, strings, numbers, Corner, CornerBit} from './constants';\n\n/**\n * @extends {MDCFoundation<!MDCMenuSurfaceAdapter>}\n */\nclass MDCMenuSurfaceFoundation extends MDCFoundation {\n  /** @return enum{cssClasses} */\n  static get cssClasses() {\n    return cssClasses;\n  }\n\n  /** @return enum{string} */\n  static get strings() {\n    return strings;\n  }\n\n  /** @return enum {number} */\n  static get numbers() {\n    return numbers;\n  }\n\n  /** @return enum{number} */\n  static get Corner() {\n    return Corner;\n  }\n\n  /**\n   * {@see MDCMenuSurfaceAdapter} for typing information on parameters and return\n   * types.\n   * @return {!MDCMenuSurfaceAdapter}\n   */\n  static get defaultAdapter() {\n    return /** @type {!MDCMenuSurfaceAdapter} */ ({\n      addClass: () => {},\n      removeClass: () => {},\n      hasClass: () => false,\n      hasAnchor: () => false,\n      notifyClose: () => {},\n      notifyOpen: () => {},\n      isElementInContainer: () => false,\n      isRtl: () => false,\n      setTransformOrigin: () => {},\n      isFocused: () => false,\n      saveFocus: () => {},\n      restoreFocus: () => {},\n      isFirstElementFocused: () => {},\n      isLastElementFocused: () => {},\n      focusFirstElement: () => {},\n      focusLastElement: () => {},\n      getInnerDimensions: () => ({}),\n      getAnchorDimensions: () => ({}),\n      getWindowDimensions: () => ({}),\n      getBodyDimensions: () => ({}),\n      getWindowScroll: () => ({}),\n      setPosition: () => {},\n      setMaxHeight: () => {},\n    });\n  }\n\n  /** @param {!MDCMenuSurfaceAdapter} adapter */\n  constructor(adapter) {\n    super(Object.assign(MDCMenuSurfaceFoundation.defaultAdapter, adapter));\n\n    /** @private {boolean} */\n    this.isOpen_ = false;\n    /** @private {number} */\n    this.openAnimationEndTimerId_ = 0;\n    /** @private {number} */\n    this.closeAnimationEndTimerId_ = 0;\n    /** @private {number} */\n    this.animationRequestId_ = 0;\n    /** @private {!{ width: number, height: number }} */\n    this.dimensions_;\n    /** @private {!Corner} */\n    this.anchorCorner_ = Corner.TOP_START;\n    /** @private {!AnchorMargin} */\n    this.anchorMargin_ = {top: 0, right: 0, bottom: 0, left: 0};\n    /** @private {?AutoLayoutMeasurements} */\n    this.measures_ = null;\n    /** @private {boolean} */\n    this.quickOpen_ = false;\n    /** @private {boolean} */\n    this.hoistedElement_ = false;\n    /** @private {boolean} */\n    this.isFixedPosition_ = false;\n    /** @private {!{x: number, y: number}} */\n    this.position_ = {x: 0, y: 0};\n  }\n\n  init() {\n    const {ROOT, OPEN} = MDCMenuSurfaceFoundation.cssClasses;\n\n    if (!this.adapter_.hasClass(ROOT)) {\n      throw new Error(`${ROOT} class required in root element.`);\n    }\n\n    if (this.adapter_.hasClass(OPEN)) {\n      this.isOpen_ = true;\n    }\n  }\n\n  destroy() {\n    clearTimeout(this.openAnimationEndTimerId_);\n    clearTimeout(this.closeAnimationEndTimerId_);\n    // Cancel any currently running animations.\n    cancelAnimationFrame(this.animationRequestId_);\n  }\n\n  /**\n   * @param {!Corner} corner Default anchor corner alignment of top-left menu surface corner.\n   */\n  setAnchorCorner(corner) {\n    this.anchorCorner_ = corner;\n  }\n\n  /**\n   * @param {!AnchorMargin} margin set of margin values from anchor.\n   */\n  setAnchorMargin(margin) {\n    this.anchorMargin_.top = typeof margin.top === 'number' ? margin.top : 0;\n    this.anchorMargin_.right = typeof margin.right === 'number' ? margin.right : 0;\n    this.anchorMargin_.bottom = typeof margin.bottom === 'number' ? margin.bottom : 0;\n    this.anchorMargin_.left = typeof margin.left === 'number' ? margin.left : 0;\n  }\n\n  /**\n   * Used to indicate if the menu-surface is hoisted to the body.\n   * @param {boolean} isHoisted\n   */\n  setIsHoisted(isHoisted) {\n    this.hoistedElement_ = isHoisted;\n  }\n\n  /**\n   * Used to set the menu-surface calculations based on a fixed position menu.\n   * @param {boolean} isFixedPosition\n   */\n  setFixedPosition(isFixedPosition) {\n    this.isFixedPosition_ = isFixedPosition;\n  }\n\n  /**\n   * Sets the menu-surface position on the page.\n   * @param {number} x\n   * @param {number} y\n   */\n  setAbsolutePosition(x, y) {\n    this.position_.x = this.typeCheckisFinite_(x) ? x : 0;\n    this.position_.y = this.typeCheckisFinite_(y) ? y : 0;\n  }\n\n  /** @param {boolean} quickOpen */\n  setQuickOpen(quickOpen) {\n    this.quickOpen_ = quickOpen;\n  }\n\n  /**\n   * Handle clicks and close if not within menu-surface element.\n   * @param {!Event} evt\n   */\n  handleBodyClick(evt) {\n    const el = evt.target;\n\n    if (this.adapter_.isElementInContainer(el)) {\n      return;\n    }\n\n    this.close();\n  };\n\n  /**\n   * Handle keys that close the surface.\n   * @param {!Event} evt\n   */\n  handleKeydown(evt) {\n    const {keyCode, key, shiftKey} = evt;\n\n    const isEscape = key === 'Escape' || keyCode === 27;\n    const isTab = key === 'Tab' || keyCode === 9;\n\n    if (isEscape) {\n      this.close();\n    } else if (isTab) {\n      if (this.adapter_.isLastElementFocused() && !shiftKey) {\n        this.adapter_.focusFirstElement();\n        evt.preventDefault();\n      } else if (this.adapter_.isFirstElementFocused() && shiftKey) {\n        this.adapter_.focusLastElement();\n        evt.preventDefault();\n      }\n    }\n  }\n\n  /**\n   * @return {!AutoLayoutMeasurements} Measurements used to position menu surface popup.\n   */\n  getAutoLayoutMeasurements_() {\n    let anchorRect = this.adapter_.getAnchorDimensions();\n    const viewport = this.adapter_.getWindowDimensions();\n    const bodyDimensions = this.adapter_.getBodyDimensions();\n    const windowScroll = this.adapter_.getWindowScroll();\n\n    if (!anchorRect) {\n      anchorRect = /** @type {ClientRect} */ ({\n        x: this.position_.x,\n        y: this.position_.y,\n        top: this.position_.y,\n        bottom: this.position_.y,\n        left: this.position_.x,\n        right: this.position_.x,\n        height: 0,\n        width: 0,\n      });\n    }\n\n    return {\n      viewport,\n      bodyDimensions,\n      windowScroll,\n      viewportDistance: {\n        top: anchorRect.top,\n        right: viewport.width - anchorRect.right,\n        left: anchorRect.left,\n        bottom: viewport.height - anchorRect.bottom,\n      },\n      anchorHeight: anchorRect.height,\n      anchorWidth: anchorRect.width,\n      surfaceHeight: this.dimensions_.height,\n      surfaceWidth: this.dimensions_.width,\n    };\n  }\n\n  /**\n   * Computes the corner of the anchor from which to animate and position the menu surface.\n   * @return {!Corner}\n   * @private\n   */\n  getOriginCorner_() {\n    // Defaults: open from the top left.\n    let corner = Corner.TOP_LEFT;\n\n    const {viewportDistance, anchorHeight, anchorWidth, surfaceHeight, surfaceWidth} = this.measures_;\n    const isBottomAligned = Boolean(this.anchorCorner_ & CornerBit.BOTTOM);\n    const availableTop = isBottomAligned ? viewportDistance.top + anchorHeight + this.anchorMargin_.bottom\n      : viewportDistance.top + this.anchorMargin_.top;\n    const availableBottom = isBottomAligned ? viewportDistance.bottom - this.anchorMargin_.bottom\n      : viewportDistance.bottom + anchorHeight - this.anchorMargin_.top;\n\n    const topOverflow = surfaceHeight - availableTop;\n    const bottomOverflow = surfaceHeight - availableBottom;\n    if (bottomOverflow > 0 && topOverflow < bottomOverflow) {\n      corner |= CornerBit.BOTTOM;\n    }\n\n    const isRtl = this.adapter_.isRtl();\n    const isFlipRtl = Boolean(this.anchorCorner_ & CornerBit.FLIP_RTL);\n    const avoidHorizontalOverlap = Boolean(this.anchorCorner_ & CornerBit.RIGHT);\n    const isAlignedRight = (avoidHorizontalOverlap && !isRtl) ||\n      (!avoidHorizontalOverlap && isFlipRtl && isRtl);\n    const availableLeft = isAlignedRight ? viewportDistance.left + anchorWidth + this.anchorMargin_.right :\n      viewportDistance.left + this.anchorMargin_.left;\n    const availableRight = isAlignedRight ? viewportDistance.right - this.anchorMargin_.right :\n      viewportDistance.right + anchorWidth - this.anchorMargin_.left;\n\n    const leftOverflow = surfaceWidth - availableLeft;\n    const rightOverflow = surfaceWidth - availableRight;\n\n    if ((leftOverflow < 0 && isAlignedRight && isRtl) ||\n        (avoidHorizontalOverlap && !isAlignedRight && leftOverflow < 0) ||\n        (rightOverflow > 0 && leftOverflow < rightOverflow)) {\n      corner |= CornerBit.RIGHT;\n    }\n\n    return /** @type {Corner} */ (corner);\n  }\n\n  /**\n   * @param {!Corner} corner Origin corner of the menu surface.\n   * @return {number} Horizontal offset of menu surface origin corner from corresponding anchor corner.\n   * @private\n   */\n  getHorizontalOriginOffset_(corner) {\n    const {anchorWidth} = this.measures_;\n    // isRightAligned corresponds to using the 'right' property on the surface.\n    const isRightAligned = Boolean(corner & CornerBit.RIGHT);\n    const avoidHorizontalOverlap = Boolean(this.anchorCorner_ & CornerBit.RIGHT);\n\n    if (isRightAligned) {\n      const rightOffset = avoidHorizontalOverlap ? anchorWidth - this.anchorMargin_.left : this.anchorMargin_.right;\n\n      // For hoisted or fixed elements, adjust the offset by the difference between viewport width and body width so\n      // when we calculate the right value (`adjustPositionForHoistedElement_`) based on the element position,\n      // the right property is correct.\n      if (this.hoistedElement_ || this.isFixedPosition_) {\n        return rightOffset - (this.measures_.viewport.width - this.measures_.bodyDimensions.width);\n      }\n\n      return rightOffset;\n    }\n\n    return avoidHorizontalOverlap ? anchorWidth - this.anchorMargin_.right : this.anchorMargin_.left;\n  }\n\n  /**\n   * @param {!Corner} corner Origin corner of the menu surface.\n   * @return {number} Vertical offset of menu surface origin corner from corresponding anchor corner.\n   * @private\n   */\n  getVerticalOriginOffset_(corner) {\n    const {anchorHeight} = this.measures_;\n    const isBottomAligned = Boolean(corner & CornerBit.BOTTOM);\n    const avoidVerticalOverlap = Boolean(this.anchorCorner_ & CornerBit.BOTTOM);\n    let y = 0;\n\n    if (isBottomAligned) {\n      y = avoidVerticalOverlap ? anchorHeight - this.anchorMargin_.top : -this.anchorMargin_.bottom;\n    } else {\n      y = avoidVerticalOverlap ? (anchorHeight + this.anchorMargin_.bottom) : this.anchorMargin_.top;\n    }\n    return y;\n  }\n\n  /**\n   * @param {!Corner} corner Origin corner of the menu surface.\n   * @return {number} Maximum height of the menu surface, based on available space. 0 indicates should not be set.\n   * @private\n   */\n  getMenuSurfaceMaxHeight_(corner) {\n    let maxHeight = 0;\n    const {viewportDistance} = this.measures_;\n    const isBottomAligned = Boolean(corner & CornerBit.BOTTOM);\n    const {MARGIN_TO_EDGE} = MDCMenuSurfaceFoundation.numbers;\n\n    // When maximum height is not specified, it is handled from css.\n    if (isBottomAligned) {\n      maxHeight = viewportDistance.top + this.anchorMargin_.top - MARGIN_TO_EDGE;\n      if (!(this.anchorCorner_ & CornerBit.BOTTOM)) {\n        maxHeight += this.measures_.anchorHeight;\n      }\n    } else {\n      maxHeight = viewportDistance.bottom - this.anchorMargin_.bottom + this.measures_.anchorHeight - MARGIN_TO_EDGE;\n      if (this.anchorCorner_ & CornerBit.BOTTOM) {\n        maxHeight -= this.measures_.anchorHeight;\n      }\n    }\n\n    return maxHeight;\n  }\n\n  /** @private */\n  autoPosition_() {\n    // Compute measurements for autoposition methods reuse.\n    this.measures_ = this.getAutoLayoutMeasurements_();\n\n    const corner = this.getOriginCorner_();\n    const maxMenuSurfaceHeight = this.getMenuSurfaceMaxHeight_(corner);\n    const verticalAlignment = (corner & CornerBit.BOTTOM) ? 'bottom' : 'top';\n    let horizontalAlignment = (corner & CornerBit.RIGHT) ? 'right' : 'left';\n    const horizontalOffset = this.getHorizontalOriginOffset_(corner);\n    const verticalOffset = this.getVerticalOriginOffset_(corner);\n    let position = {\n      [horizontalAlignment]: horizontalOffset ? horizontalOffset : '0',\n      [verticalAlignment]: verticalOffset ? verticalOffset : '0',\n    };\n    const {anchorWidth, surfaceWidth} = this.measures_;\n    // Center align when anchor width is comparable or greater than menu surface, otherwise keep corner.\n    if (anchorWidth / surfaceWidth > numbers.ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO) {\n      horizontalAlignment = 'center';\n    }\n\n    // If the menu-surface has been hoisted to the body, it's no longer relative to the anchor element\n    if (this.hoistedElement_ || this.isFixedPosition_) {\n      position = this.adjustPositionForHoistedElement_(position);\n    }\n\n    for (const prop in position) {\n      if (position.hasOwnProperty(prop) && position[prop] !== '0') {\n        position[prop] = `${parseInt(position[prop], 10)}px`;\n      }\n    }\n\n    this.adapter_.setTransformOrigin(`${horizontalAlignment} ${verticalAlignment}`);\n    this.adapter_.setPosition(position);\n    this.adapter_.setMaxHeight(maxMenuSurfaceHeight ? maxMenuSurfaceHeight + 'px' : '');\n\n    // Clear measures after positioning is complete.\n    this.measures_ = null;\n  }\n\n  /**\n   * Calculates the offsets for positioning the menu-surface when the menu-surface has been\n   * hoisted to the body.\n   * @param {!{\n   *   top: (string|undefined),\n   *   right: (string|undefined),\n   *   bottom: (string|undefined),\n   *   left: (string|undefined)\n   * }} position\n   * @return {!{\n   *   top: (string|undefined),\n   *   right: (string|undefined),\n   *   bottom: (string|undefined),\n   *   left: (string|undefined)\n   * }} position\n   * @private\n   */\n  adjustPositionForHoistedElement_(position) {\n    const {windowScroll, viewportDistance} = this.measures_;\n\n    for (const prop in position) {\n      if (position.hasOwnProperty(prop)) {\n        // Hoisted surfaces need to have the anchor elements location on the page added to the\n        // position properties for proper alignment on the body.\n        if (viewportDistance.hasOwnProperty(prop)) {\n          position[prop] = parseInt(position[prop], 10) + viewportDistance[prop];\n        }\n\n        // Surfaces that are absolutely positioned need to have additional calculations for scroll\n        // and bottom positioning.\n        if (!this.isFixedPosition_) {\n          if (prop === 'top') {\n            position[prop] = parseInt(position[prop], 10) + windowScroll.y;\n          } else if (prop === 'bottom') {\n            position[prop] = parseInt(position[prop], 10) - windowScroll.y;\n          } else if (prop === 'left') {\n            position[prop] = parseInt(position[prop], 10) + windowScroll.x;\n          } else if (prop === 'right') {\n            position[prop] = parseInt(position[prop], 10) - windowScroll.x;\n          }\n        }\n      }\n    }\n\n    return position;\n  }\n\n  /**\n   * Open the menu surface.\n   */\n  open() {\n    this.adapter_.saveFocus();\n\n    if (!this.quickOpen_) {\n      this.adapter_.addClass(MDCMenuSurfaceFoundation.cssClasses.ANIMATING_OPEN);\n    }\n\n    this.animationRequestId_ = requestAnimationFrame(() => {\n      this.adapter_.addClass(MDCMenuSurfaceFoundation.cssClasses.OPEN);\n      this.dimensions_ = this.adapter_.getInnerDimensions();\n      this.autoPosition_();\n      if (this.quickOpen_) {\n        this.adapter_.notifyOpen();\n      } else {\n        this.openAnimationEndTimerId_ = setTimeout(() => {\n          this.openAnimationEndTimerId_ = 0;\n          this.adapter_.removeClass(MDCMenuSurfaceFoundation.cssClasses.ANIMATING_OPEN);\n          this.adapter_.notifyOpen();\n        }, numbers.TRANSITION_OPEN_DURATION);\n      }\n    });\n    this.isOpen_ = true;\n  }\n\n  /**\n   * Closes the menu surface.\n   */\n  close() {\n    if (!this.quickOpen_) {\n      this.adapter_.addClass(MDCMenuSurfaceFoundation.cssClasses.ANIMATING_CLOSED);\n    }\n\n    requestAnimationFrame(() => {\n      this.adapter_.removeClass(MDCMenuSurfaceFoundation.cssClasses.OPEN);\n      if (this.quickOpen_) {\n        this.adapter_.notifyClose();\n      } else {\n        this.closeAnimationEndTimerId_ = setTimeout(() => {\n          this.closeAnimationEndTimerId_ = 0;\n          this.adapter_.removeClass(MDCMenuSurfaceFoundation.cssClasses.ANIMATING_CLOSED);\n          this.adapter_.notifyClose();\n        }, numbers.TRANSITION_CLOSE_DURATION);\n      }\n    });\n\n    this.isOpen_ = false;\n    this.maybeRestoreFocus_();\n  }\n\n  /**\n   * The last focused element when the menu surface was opened should regain focus, if the user is\n   * focused on or within the menu surface when it is closed.\n   * @private\n   */\n  maybeRestoreFocus_() {\n    if (this.adapter_.isFocused() || this.adapter_.isElementInContainer(document.activeElement)) {\n      this.adapter_.restoreFocus();\n    }\n  }\n\n  /** @return {boolean} */\n  isOpen() {\n    return this.isOpen_;\n  }\n\n  /**\n   * isFinite that doesn't force conversion to number type.\n   * Equivalent to Number.isFinite in ES2015, but is not included in IE11.\n   * @param {number} num\n   * @return {boolean}\n   * @private\n   */\n  typeCheckisFinite_(num) {\n    return typeof num === 'number' && isFinite(num);\n  }\n}\n\nexport {MDCMenuSurfaceFoundation, AnchorMargin};\n","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/* eslint no-unused-vars: [2, {\"args\": \"none\"}] */\n\n/**\n * Adapter for MDC List. Provides an interface for managing focus.\n *\n * Additionally, provides type information for the adapter to the Closure\n * compiler.\n *\n * Implement this adapter for your framework of choice to delegate updates to\n * the component in your framework of choice. See architecture documentation\n * for more details.\n * https://github.com/material-components/material-components-web/blob/master/docs/code/architecture.md\n *\n * @record\n */\nclass MDCListAdapter {\n  /** @return {number} */\n  getListItemCount() {}\n\n  /**\n   * @return {number} */\n  getFocusedElementIndex() {}\n\n  /**\n   * @param {number} index\n   * @param {string} attribute\n   * @param {string} value\n   */\n  setAttributeForElementIndex(index, attribute, value) {}\n\n  /**\n   * @param {number} index\n   * @param {string} attribute\n   */\n  removeAttributeForElementIndex(index, attribute) {}\n\n  /**\n   * @param {number} index\n   * @param {string} className\n   */\n  addClassForElementIndex(index, className) {}\n\n  /**\n   * @param {number} index\n   * @param {string} className\n   */\n  removeClassForElementIndex(index, className) {}\n\n  /**\n   * Focuses list item at the index specified.\n   * @param {number} index\n   */\n  focusItemAtIndex(index) {}\n\n  /**\n   * Sets the tabindex to the value specified for all button/a element children of\n   * the list item at the index specified.\n   * @param {number} listItemIndex\n   * @param {number} tabIndexValue\n   */\n  setTabIndexForListItemChildren(listItemIndex, tabIndexValue) {}\n\n  /**\n   * @param {number} index\n   * @return {boolean} Returns true if radio button is present at given list item index.\n   */\n  hasRadioAtIndex(index) {}\n\n  /**\n   * @param {number} index\n   * @return {boolean} Returns true if checkbox is present at given list item index.\n   */\n  hasCheckboxAtIndex(index) {}\n\n  /**\n   * @param {number} index\n   * @return {boolean} Returns true if checkbox inside a list item is checked.\n   */\n  isCheckboxCheckedAtIndex(index) {}\n\n  /**\n   * Sets the checked status of checkbox or radio at given list item index.\n   * @param {number} index\n   * @param {boolean} isChecked\n   */\n  setCheckedCheckboxOrRadioAtIndex(index, isChecked) {}\n\n  /**\n   * Notifies user action on list item.\n   */\n  notifyAction(index) {}\n\n  /**\n   * @return {boolean} Returns true when the current focused element is inside list root.\n   */\n  isFocusInsideList() {}\n}\n\nexport default MDCListAdapter;\n","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/** @enum {string} */\nconst cssClasses = {\n  ROOT: 'mdc-list',\n  LIST_ITEM_CLASS: 'mdc-list-item',\n  LIST_ITEM_SELECTED_CLASS: 'mdc-list-item--selected',\n  LIST_ITEM_ACTIVATED_CLASS: 'mdc-list-item--activated',\n};\n\n/** @enum {string} */\nconst strings = {\n  ARIA_ORIENTATION: 'aria-orientation',\n  ARIA_ORIENTATION_HORIZONTAL: 'horizontal',\n  ARIA_SELECTED: 'aria-selected',\n  ARIA_CHECKED: 'aria-checked',\n  ARIA_CHECKED_RADIO_SELECTOR: '[role=\"radio\"][aria-checked=\"true\"]',\n  ARIA_ROLE_CHECKBOX_SELECTOR: '[role=\"checkbox\"]',\n  ARIA_CHECKED_CHECKBOX_SELECTOR: '[role=\"checkbox\"][aria-checked=\"true\"]',\n  RADIO_SELECTOR: 'input[type=\"radio\"]:not(:disabled)',\n  CHECKBOX_SELECTOR: 'input[type=\"checkbox\"]:not(:disabled)',\n  CHECKBOX_RADIO_SELECTOR: 'input[type=\"checkbox\"]:not(:disabled), input[type=\"radio\"]:not(:disabled)',\n  CHILD_ELEMENTS_TO_TOGGLE_TABINDEX: `.${cssClasses.LIST_ITEM_CLASS} button:not(:disabled),\n  .${cssClasses.LIST_ITEM_CLASS} a`,\n  FOCUSABLE_CHILD_ELEMENTS: `.${cssClasses.LIST_ITEM_CLASS} button:not(:disabled), .${cssClasses.LIST_ITEM_CLASS} a,\n  .${cssClasses.LIST_ITEM_CLASS} input[type=\"radio\"]:not(:disabled),\n  .${cssClasses.LIST_ITEM_CLASS} input[type=\"checkbox\"]:not(:disabled)`,\n  ENABLED_ITEMS_SELECTOR: '.mdc-list-item:not(.mdc-list-item--disabled)',\n  ACTION_EVENT: 'MDCList:action',\n};\n\n/** @typedef {number|!Array<number>} */\nlet Index;\n\nexport {strings, cssClasses, Index};\n","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport MDCFoundation from '@material/base/foundation';\nimport MDCListAdapter from './adapter';\nimport {strings, cssClasses, Index} from './constants'; // eslint-disable-line no-unused-vars\n\nconst ELEMENTS_KEY_ALLOWED_IN = ['input', 'button', 'textarea', 'select'];\n\nclass MDCListFoundation extends MDCFoundation {\n  /** @return enum {string} */\n  static get strings() {\n    return strings;\n  }\n\n  /** @return enum {string} */\n  static get cssClasses() {\n    return cssClasses;\n  }\n\n  /**\n   * {@see MDCListAdapter} for typing information on parameters and return\n   * types.\n   * @return {!MDCListAdapter}\n   */\n  static get defaultAdapter() {\n    return /** @type {!MDCListAdapter} */ ({\n      getListItemCount: () => {},\n      getFocusedElementIndex: () => {},\n      setAttributeForElementIndex: () => {},\n      removeAttributeForElementIndex: () => {},\n      addClassForElementIndex: () => {},\n      removeClassForElementIndex: () => {},\n      focusItemAtIndex: () => {},\n      setTabIndexForListItemChildren: () => {},\n      hasRadioAtIndex: () => {},\n      hasCheckboxAtIndex: () => {},\n      isCheckboxCheckedAtIndex: () => {},\n      setCheckedCheckboxOrRadioAtIndex: () => {},\n      notifyAction: () => {},\n      isFocusInsideList: () => {},\n    });\n  }\n\n  /**\n   * @param {!MDCListAdapter=} adapter\n   */\n  constructor(adapter) {\n    super(Object.assign(MDCListFoundation.defaultAdapter, adapter));\n    /** @private {boolean} */\n    this.wrapFocus_ = false;\n\n    /** @private {boolean} */\n    this.isVertical_ = true;\n\n    /** @private {boolean} */\n    this.isSingleSelectionList_ = false;\n\n    /** @private {!Index} */\n    this.selectedIndex_ = -1;\n\n    /** @private {number} */\n    this.focusedItemIndex_ = -1;\n\n    /** @private {boolean} */\n    this.useActivatedClass_ = false;\n\n    /** @private {boolean} */\n    this.isCheckboxList_ = false;\n\n    /** @private {boolean} */\n    this.isRadioList_ = false;\n  }\n\n  layout() {\n    if (this.adapter_.getListItemCount() === 0) return;\n\n    if (this.adapter_.hasCheckboxAtIndex(0)) {\n      this.isCheckboxList_ = true;\n    } else if (this.adapter_.hasRadioAtIndex(0)) {\n      this.isRadioList_ = true;\n    }\n  }\n\n  /**\n   * Sets the private wrapFocus_ variable.\n   * @param {boolean} value\n   */\n  setWrapFocus(value) {\n    this.wrapFocus_ = value;\n  }\n\n  /**\n   * Sets the isVertical_ private variable.\n   * @param {boolean} value\n   */\n  setVerticalOrientation(value) {\n    this.isVertical_ = value;\n  }\n\n  /**\n   * Sets the isSingleSelectionList_ private variable.\n   * @param {boolean} value\n   */\n  setSingleSelection(value) {\n    this.isSingleSelectionList_ = value;\n  }\n\n  /**\n   * Sets the useActivatedClass_ private variable.\n   * @param {boolean} useActivated\n   */\n  setUseActivatedClass(useActivated) {\n    this.useActivatedClass_ = useActivated;\n  }\n\n  /** @return {!Index} */\n  getSelectedIndex() {\n    return this.selectedIndex_;\n  }\n\n  /** @param {!Index} index */\n  setSelectedIndex(index) {\n    if (!this.isIndexValid_(index)) return;\n\n    if (this.isCheckboxList_) {\n      this.setCheckboxAtIndex_(/** @type {!Array<number>} */ (index));\n    } else if (this.isRadioList_) {\n      this.setRadioAtIndex_(/** @type {number} */ (index));\n    } else {\n      this.setSingleSelectionAtIndex_(/** @type {number} */ (index));\n    }\n  }\n\n  /**\n   * Focus in handler for the list items.\n   * @param evt\n   * @param {number} listItemIndex\n   */\n  handleFocusIn(evt, listItemIndex) {\n    if (listItemIndex >= 0) {\n      this.adapter_.setTabIndexForListItemChildren(listItemIndex, 0);\n    }\n  }\n\n  /**\n   * Focus out handler for the list items.\n   * @param {Event} evt\n   * @param {number} listItemIndex\n   */\n  handleFocusOut(evt, listItemIndex) {\n    if (listItemIndex >= 0) {\n      this.adapter_.setTabIndexForListItemChildren(listItemIndex, -1);\n    }\n\n    /**\n     * Between Focusout & Focusin some browsers do not have focus on any element. Setting a delay to wait till the focus\n     * is moved to next element.\n     */\n    setTimeout(() => {\n      if (!this.adapter_.isFocusInsideList()) {\n        this.setTabindexToFirstSelectedItem_();\n      }\n    }, 0);\n  }\n\n  /**\n   * Key handler for the list.\n   * @param {Event} evt\n   * @param {boolean} isRootListItem\n   * @param {number} listItemIndex\n   */\n  handleKeydown(evt, isRootListItem, listItemIndex) {\n    const arrowLeft = evt.key === 'ArrowLeft' || evt.keyCode === 37;\n    const arrowUp = evt.key === 'ArrowUp' || evt.keyCode === 38;\n    const arrowRight = evt.key === 'ArrowRight' || evt.keyCode === 39;\n    const arrowDown = evt.key === 'ArrowDown' || evt.keyCode === 40;\n    const isHome = evt.key === 'Home' || evt.keyCode === 36;\n    const isEnd = evt.key === 'End' || evt.keyCode === 35;\n    const isEnter = evt.key === 'Enter' || evt.keyCode === 13;\n    const isSpace = evt.key === 'Space' || evt.keyCode === 32;\n\n    let currentIndex = this.adapter_.getFocusedElementIndex();\n    let nextIndex = -1;\n    if (currentIndex === -1) {\n      currentIndex = listItemIndex;\n      if (currentIndex < 0) {\n        // If this event doesn't have a mdc-list-item ancestor from the\n        // current list (not from a sublist), return early.\n        return;\n      }\n    }\n\n    if ((this.isVertical_ && arrowDown) || (!this.isVertical_ && arrowRight)) {\n      this.preventDefaultEvent_(evt);\n      nextIndex = this.focusNextElement(currentIndex);\n    } else if ((this.isVertical_ && arrowUp) || (!this.isVertical_ && arrowLeft)) {\n      this.preventDefaultEvent_(evt);\n      nextIndex = this.focusPrevElement(currentIndex);\n    } else if (isHome) {\n      this.preventDefaultEvent_(evt);\n      nextIndex = this.focusFirstElement();\n    } else if (isEnd) {\n      this.preventDefaultEvent_(evt);\n      nextIndex = this.focusLastElement();\n    } else if (isEnter || isSpace) {\n      if (isRootListItem) {\n        // Return early if enter key is pressed on anchor element which triggers synthetic MouseEvent event.\n        if (evt.target.tagName === 'A' && isEnter) return;\n        this.preventDefaultEvent_(evt);\n\n        if (this.isSelectableList_()) {\n          this.setSelectedIndexOnAction_(currentIndex);\n        }\n\n        this.adapter_.notifyAction(currentIndex);\n      }\n    }\n\n    this.focusedItemIndex_ = currentIndex;\n\n    if (nextIndex >= 0) {\n      this.setTabindexAtIndex_(nextIndex);\n      this.focusedItemIndex_ = nextIndex;\n    }\n  }\n\n  /**\n   * Click handler for the list.\n   * @param {number} index\n   * @param {boolean} toggleCheckbox\n   */\n  handleClick(index, toggleCheckbox) {\n    if (index === -1) return;\n\n    if (this.isSelectableList_()) {\n      this.setSelectedIndexOnAction_(index, toggleCheckbox);\n    }\n\n    this.adapter_.notifyAction(index);\n\n    this.setTabindexAtIndex_(index);\n    this.focusedItemIndex_ = index;\n  }\n\n  /**\n   * Ensures that preventDefault is only called if the containing element doesn't\n   * consume the event, and it will cause an unintended scroll.\n   * @param {Event} evt\n   * @private\n   */\n  preventDefaultEvent_(evt) {\n    const tagName = `${evt.target.tagName}`.toLowerCase();\n    if (ELEMENTS_KEY_ALLOWED_IN.indexOf(tagName) === -1) {\n      evt.preventDefault();\n    }\n  }\n\n  /**\n   * Focuses the next element on the list.\n   * @param {number} index\n   * @return {number}\n   */\n  focusNextElement(index) {\n    const count = this.adapter_.getListItemCount();\n    let nextIndex = index + 1;\n    if (nextIndex >= count) {\n      if (this.wrapFocus_) {\n        nextIndex = 0;\n      } else {\n        // Return early because last item is already focused.\n        return index;\n      }\n    }\n    this.adapter_.focusItemAtIndex(nextIndex);\n\n    return nextIndex;\n  }\n\n  /**\n   * Focuses the previous element on the list.\n   * @param {number} index\n   * @return {number}\n   */\n  focusPrevElement(index) {\n    let prevIndex = index - 1;\n    if (prevIndex < 0) {\n      if (this.wrapFocus_) {\n        prevIndex = this.adapter_.getListItemCount() - 1;\n      } else {\n        // Return early because first item is already focused.\n        return index;\n      }\n    }\n    this.adapter_.focusItemAtIndex(prevIndex);\n\n    return prevIndex;\n  }\n\n  /**\n   * @return {number}\n   */\n  focusFirstElement() {\n    this.adapter_.focusItemAtIndex(0);\n    return 0;\n  }\n\n  /**\n   * @return {number}\n   */\n  focusLastElement() {\n    const lastIndex = this.adapter_.getListItemCount() - 1;\n    this.adapter_.focusItemAtIndex(lastIndex);\n    return lastIndex;\n  }\n\n  /**\n   * @param {number} index\n   * @private\n   */\n  setSingleSelectionAtIndex_(index) {\n    let selectedClassName = cssClasses.LIST_ITEM_SELECTED_CLASS;\n    if (this.useActivatedClass_) {\n      selectedClassName = cssClasses.LIST_ITEM_ACTIVATED_CLASS;\n    }\n\n    if (this.selectedIndex_ >= 0 && this.selectedIndex_ !== index) {\n      this.adapter_.removeClassForElementIndex(this.selectedIndex_, selectedClassName);\n      this.adapter_.setAttributeForElementIndex(this.selectedIndex_, strings.ARIA_SELECTED, 'false');\n    }\n\n    this.adapter_.addClassForElementIndex(index, selectedClassName);\n    this.adapter_.setAttributeForElementIndex(index, strings.ARIA_SELECTED, 'true');\n\n    this.selectedIndex_ = index;\n  }\n\n  /**\n   * Toggles radio at give index. Radio doesn't change the checked state if it is already checked.\n   * @param {number} index\n   * @private\n   */\n  setRadioAtIndex_(index) {\n    this.adapter_.setCheckedCheckboxOrRadioAtIndex(index, true);\n\n    if (this.selectedIndex_ >= 0) {\n      this.adapter_.setAttributeForElementIndex(this.selectedIndex_, strings.ARIA_CHECKED, 'false');\n    }\n\n    this.adapter_.setAttributeForElementIndex(index, strings.ARIA_CHECKED, 'true');\n\n    this.selectedIndex_ = index;\n  }\n\n  /**\n   * @param {!Array<number>} index\n   * @private\n   */\n  setCheckboxAtIndex_(index) {\n    for (let i = 0; i < this.adapter_.getListItemCount(); i++) {\n      let isChecked = false;\n      if (index.indexOf(i) >= 0) {\n        isChecked = true;\n      }\n\n      this.adapter_.setCheckedCheckboxOrRadioAtIndex(i, isChecked);\n      this.adapter_.setAttributeForElementIndex(i, strings.ARIA_CHECKED, isChecked ? 'true' : 'false');\n    }\n\n    this.selectedIndex_ = index;\n  }\n\n  /**\n   * @param {number} index\n   * @private\n   */\n  setTabindexAtIndex_(index) {\n    if (this.focusedItemIndex_ === -1 && index !== 0) {\n      // If no list item was selected set first list item's tabindex to -1.\n      // Generally, tabindex is set to 0 on first list item of list that has no preselected items.\n      this.adapter_.setAttributeForElementIndex(0, 'tabindex', -1);\n    } else if (this.focusedItemIndex_ >= 0 && this.focusedItemIndex_ !== index) {\n      this.adapter_.setAttributeForElementIndex(this.focusedItemIndex_, 'tabindex', -1);\n    }\n\n    this.adapter_.setAttributeForElementIndex(index, 'tabindex', 0);\n  }\n\n  /**\n   * @return {boolean} Return true if it is single selectin list, checkbox list or radio list.\n   * @private\n   */\n  isSelectableList_() {\n    return this.isSingleSelectionList_ || this.isCheckboxList_ || this.isRadioList_;\n  }\n\n  /** @private */\n  setTabindexToFirstSelectedItem_() {\n    let targetIndex = 0;\n\n    if (this.isSelectableList_()) {\n      if (typeof this.selectedIndex_ === 'number' && this.selectedIndex_ !== -1) {\n        targetIndex = this.selectedIndex_;\n      } else if (this.selectedIndex_ instanceof Array && this.selectedIndex_.length > 0) {\n        targetIndex = this.selectedIndex_.reduce((currentIndex, minIndex) => Math.min(currentIndex, minIndex));\n      }\n    }\n\n    this.setTabindexAtIndex_(targetIndex);\n  }\n\n  /**\n   * @param {!Index} index\n   * @return {boolean}\n   * @private\n   */\n  isIndexValid_(index) {\n    if (index instanceof Array) {\n      if (!this.isCheckboxList_) {\n        throw new Error('MDCListFoundation: Array of index is only supported for checkbox based list');\n      }\n\n      if (index.length === 0) {\n        return true;\n      } else {\n        return index.some((i) => this.isIndexInRange_(i));\n      }\n    } else if (typeof index === 'number') {\n      if (this.isCheckboxList_) {\n        throw new Error('MDCListFoundation: Expected array of index for checkbox based list but got number: ' + index);\n      }\n      return this.isIndexInRange_(index);\n    } else {\n      return false;\n    }\n  }\n\n  /**\n   * @param {number} index\n   * @return {boolean}\n   * @private\n   */\n  isIndexInRange_(index) {\n    const listSize = this.adapter_.getListItemCount();\n    return index >= 0 && index < listSize;\n  }\n\n  /**\n   * @param {number} index\n   * @param {boolean=} toggleCheckbox\n   * @private\n   */\n  setSelectedIndexOnAction_(index, toggleCheckbox = true) {\n    if (this.isCheckboxList_) {\n      this.toggleCheckboxAtIndex_(index, toggleCheckbox);\n    } else {\n      this.setSelectedIndex(index);\n    }\n  }\n\n  /**\n   * @param {number} index\n   * @param {boolean} toggleCheckbox\n   * @private\n   */\n  toggleCheckboxAtIndex_(index, toggleCheckbox) {\n    let isChecked = this.adapter_.isCheckboxCheckedAtIndex(index);\n\n    if (toggleCheckbox) {\n      isChecked = !isChecked;\n      this.adapter_.setCheckedCheckboxOrRadioAtIndex(index, isChecked);\n    }\n\n    this.adapter_.setAttributeForElementIndex(index, strings.ARIA_CHECKED, isChecked ? 'true' : 'false');\n\n    // If none of the checkbox items are selected and selectedIndex is not initialized then provide a default value.\n    if (this.selectedIndex_ === -1) {\n      this.selectedIndex_ = [];\n    }\n\n    if (isChecked) {\n      this.selectedIndex_.push(index);\n    } else {\n      this.selectedIndex_ = this.selectedIndex_.filter((i) => i !== index);\n    }\n  }\n}\n\nexport default MDCListFoundation;\n","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport MDCFoundation from '@material/base/foundation';\nimport {MDCMenuAdapter} from './adapter';\nimport {cssClasses, strings} from './constants';\nimport {MDCMenuSurfaceFoundation} from '@material/menu-surface/foundation';\nimport MDCListFoundation from '@material/list/foundation';\n\n/**\n * @extends {MDCFoundation<!MDCMenuAdapter>}\n */\nclass MDCMenuFoundation extends MDCFoundation {\n  /** @return enum{cssClasses} */\n  static get cssClasses() {\n    return cssClasses;\n  }\n\n  /** @return enum{strings} */\n  static get strings() {\n    return strings;\n  }\n\n  /**\n   * {@see MDCMenuAdapter} for typing information on parameters and return\n   * types.\n   * @return {!MDCMenuAdapter}\n   */\n  static get defaultAdapter() {\n    return /** @type {!MDCMenuAdapter} */ ({\n      addClassToElementAtIndex: () => {},\n      removeClassFromElementAtIndex: () => {},\n      addAttributeToElementAtIndex: () => {},\n      removeAttributeFromElementAtIndex: () => {},\n      elementContainsClass: () => {},\n      closeSurface: () => {},\n      getElementIndex: () => {},\n      getParentElement: () => {},\n      getSelectedElementIndex: () => {},\n      notifySelected: () => {},\n    });\n  }\n\n  /** @param {!MDCMenuAdapter} adapter */\n  constructor(adapter) {\n    super(Object.assign(MDCMenuFoundation.defaultAdapter, adapter));\n\n    /** @type {number} */\n    this.closeAnimationEndTimerId_ = 0;\n  }\n\n  destroy() {\n    if (this.closeAnimationEndTimerId_) {\n      clearTimeout(this.closeAnimationEndTimerId_);\n    }\n\n    this.adapter_.closeSurface();\n  }\n\n  /**\n   * Handler function for the keydown events.\n   * @param {!Event} evt\n   */\n  handleKeydown(evt) {\n    const {key, keyCode} = evt;\n    const isTab = key === 'Tab' || keyCode === 9;\n\n    if (isTab) {\n      this.adapter_.closeSurface();\n    }\n  }\n\n  /**\n   * @param {!HTMLElement} listItem\n   */\n  handleItemAction(listItem) {\n    const index = this.adapter_.getElementIndex(listItem);\n    if (index < 0) {\n      return;\n    }\n\n    this.adapter_.notifySelected({index});\n    this.adapter_.closeSurface();\n\n    // Wait for the menu to close before adding/removing classes that affect styles.\n    this.closeAnimationEndTimerId_ = setTimeout(() => {\n      const selectionGroup = this.getSelectionGroup_(listItem);\n\n      if (selectionGroup !== null) {\n        this.handleSelectionGroup_(/** @type {!HTMLElement} */ (selectionGroup), index);\n      }\n    }, MDCMenuSurfaceFoundation.numbers.TRANSITION_CLOSE_DURATION);\n  }\n\n  /**\n   * Handles toggling the selected classes in a selection group when a\n   * selection is made.\n   * @param {!HTMLElement} selectionGroup\n   * @param {number} index The selected index value\n   * @private\n   */\n  handleSelectionGroup_(selectionGroup, index) {\n    // De-select the previous selection in this group.\n    const selectedIndex = this.adapter_.getSelectedElementIndex(selectionGroup);\n    if (selectedIndex >= 0) {\n      this.adapter_.removeAttributeFromElementAtIndex(selectedIndex, strings.ARIA_SELECTED_ATTR);\n      this.adapter_.removeClassFromElementAtIndex(selectedIndex, cssClasses.MENU_SELECTED_LIST_ITEM);\n    }\n    // Select the new list item in this group.\n    this.adapter_.addClassToElementAtIndex(index, cssClasses.MENU_SELECTED_LIST_ITEM);\n    this.adapter_.addAttributeToElementAtIndex(index, strings.ARIA_SELECTED_ATTR, 'true');\n  }\n\n  /**\n   * Returns the parent selection group of an element if one exists.\n   * @param listItem\n   * @return {?HTMLElement} parent selection group element or null.\n   * @private\n   */\n  getSelectionGroup_(listItem) {\n    let parent = this.adapter_.getParentElement(listItem);\n    let isGroup = this.adapter_.elementContainsClass(parent, cssClasses.MENU_SELECTION_GROUP);\n\n    // Iterate through ancestors until we find the group or get to the list.\n    while (!isGroup && !this.adapter_.elementContainsClass(parent, MDCListFoundation.cssClasses.ROOT)) {\n      parent = this.adapter_.getParentElement(parent);\n      isGroup = this.adapter_.elementContainsClass(parent, cssClasses.MENU_SELECTION_GROUP);\n    }\n\n    if (isGroup) {\n      return parent;\n    } else {\n      return null;\n    }\n  }\n\n  /**\n   * Find the first ancestor with the mdc-list-item class.\n   * @param {?HTMLElement} target\n   * @return {?HTMLElement}\n   * @private\n   */\n  getListItem_(target) {\n    let isListItem = this.adapter_.elementContainsClass(target, MDCListFoundation.cssClasses.LIST_ITEM_CLASS);\n\n    while (!isListItem) {\n      target = this.adapter_.getParentElement(target);\n      if (target) {\n        isListItem = this.adapter_.elementContainsClass(target, MDCListFoundation.cssClasses.LIST_ITEM_CLASS);\n      } else { // target has no parent element.\n        return null;\n      }\n    }\n\n    return target;\n  }\n}\n\nexport {MDCMenuFoundation};\n","<template>\n  <mdc-menu-surface\n    ref=\"root\"\n    :quick-open=\"quickOpen\"\n    :open=\"open\"\n    @change=\"onChange\"\n    @keydown=\"handleKeydown\"\n  >\n    <mdc-list ref=\"list\" @MDCList:action.native=\"handleAction\">\n      <slot />\n    </mdc-list>\n  </mdc-menu-surface>\n</template>\n\n<script>\nimport { MDCMenuFoundation } from '@material/menu/foundation'\nimport { emitCustomEvent } from '../base'\n\nexport default {\n  name: 'mdc-menu',\n  model: {\n    prop: 'open',\n    event: 'change'\n  },\n  props: {\n    open: [Boolean, Object],\n    'quick-open': Boolean,\n    'anchor-corner': [String, Number],\n    'anchor-margin': Object\n  },\n  data() {\n    return {\n      classes: {},\n      styles: {}\n    }\n  },\n  provide() {\n    return { mdcMenu: this }\n  },\n  watch: {\n    // anchorCorner(nv) {\n    //   this.foundation.setAnchorCorner(Number(nv))\n    // },\n    // anchorMargin(nv) {\n    //   this.foundation.setAnchorMargin(nv)\n    // }\n  },\n  mounted() {\n    this._previousFocus = undefined\n\n    this.foundation = new MDCMenuFoundation({\n      addClassToElementAtIndex: (index, className) => {\n        const list = this.items\n        list[index].classList.add(className)\n      },\n      removeClassFromElementAtIndex: (index, className) => {\n        const list = this.items\n        list[index].classList.remove(className)\n      },\n      addAttributeToElementAtIndex: (index, attr, value) => {\n        const list = this.items\n        list[index].setAttribute(attr, value)\n      },\n      removeAttributeFromElementAtIndex: (index, attr) => {\n        const list = this.items\n        list[index].removeAttribute(attr)\n      },\n      elementContainsClass: (element, className) =>\n        element.classList.contains(className),\n      closeSurface: () => {\n        this.$emit('change', false)\n      },\n      getElementIndex: element => {\n        return this.items.indexOf(element)\n      },\n      getParentElement: element => element.parentElement,\n      getSelectedElementIndex: selectionGroup => {\n        const idx = this.items.indexOf(\n          selectionGroup.querySelector(\n            `.${MDCMenuFoundation.cssClasses.MENU_SELECTED_LIST_ITEM}`\n          )\n        )\n        return idx\n      },\n      notifySelected: evtData => {\n        emitCustomEvent(this.$el, MDCMenuFoundation.strings.SELECTED_EVENT, {\n          index: evtData.index,\n          item: this.items[evtData.index]\n        })\n\n        this.$emit('select', {\n          index: evtData.index,\n          item: this.items[evtData.index]\n        })\n      }\n    })\n\n    this.foundation.init()\n  },\n  beforeDestroy() {\n    this._previousFocus = null\n    this.foundation.destroy()\n  },\n\n  computed: {\n    items() {\n      return this.$refs.list.listElements\n    }\n  },\n\n  methods: {\n    handleAction({ detail: { index } }) {\n      this.foundation.handleItemAction(this.items[index])\n    },\n\n    handleKeydown(evt) {\n      this.foundation.handleKeydown(evt)\n    },\n    onChange(item) {\n      this.$emit('change', item)\n    }\n    // onOpen_(value) {\n    //   if (value) {\n    //     this.foundation.open(typeof value === 'object' ? value : void 0)\n    //   } else {\n    //     this.foundation.close()\n    //   }\n    // },\n    // show(options) {\n    //   this.foundation.open(options)\n    // },\n    // hide() {\n    //   this.foundation.close()\n    // },\n    // isOpen() {\n    //   return this.foundation ? this.foundation.isOpen() : false\n    // }\n  }\n}\n</script>\n","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/** @type {string|undefined} */\nlet storedTransformPropertyName_;\n\n/**\n * Returns the name of the correct transform property to use on the current browser.\n * @param {!Window} globalObj\n * @param {boolean=} forceRefresh\n * @return {string}\n */\nfunction getTransformPropertyName(globalObj, forceRefresh = false) {\n  if (storedTransformPropertyName_ === undefined || forceRefresh) {\n    const el = globalObj.document.createElement('div');\n    const transformPropertyName = ('transform' in el.style ? 'transform' : 'webkitTransform');\n    storedTransformPropertyName_ = transformPropertyName;\n  }\n\n  return storedTransformPropertyName_;\n}\n\nexport {getTransformPropertyName};\n","<template>\n  <div\n    :class=\"classes\"\n    class=\"mdc-menu mdc-menu-surface\"\n    @keydown=\"handleKeydown\"\n    @MDCMenuSurface:opened=\"registerBodyClickListener\"\n    @MDCMenuSurface:closed=\"deregisterBodyClickListener\"\n  >\n    <slot />\n  </div>\n</template>\n\n<script>\nimport { MDCMenuSurfaceFoundation } from '@material/menu-surface/foundation'\nimport { emitCustomEvent } from '../base'\nimport * as util from '@material/menu-surface/util'\n\nexport default {\n  name: 'mdc-menu-surface',\n  model: {\n    prop: 'open',\n    event: 'change'\n  },\n  props: {\n    open: [Boolean, Object],\n    'quick-open': Boolean,\n    'anchor-corner': [String, Number],\n    'anchor-margin': Object\n  },\n  data() {\n    return {\n      classes: {},\n      styles: {}\n    }\n  },\n  provide() {\n    return { mdcMenu: this }\n  },\n  watch: {\n    open: 'onOpen_',\n    quickOpen(nv) {\n      this.foundation.setQuickOpen(nv)\n    }\n  },\n  mounted() {\n    this._previousFocus = undefined\n\n    this.foundation = new MDCMenuSurfaceFoundation(\n      Object.assign(\n        {\n          addClass: className => this.$set(this.classes, className, true),\n          removeClass: className => this.$delete(this.classes, className),\n          hasClass: className => this.$el.classList.contains(className),\n          hasAnchor: () => !!this.anchorElement,\n          notifyClose: () => {\n            emitCustomEvent(\n              this.$el,\n              MDCMenuSurfaceFoundation.strings.CLOSED_EVENT,\n              {}\n            )\n\n            this.$emit('change', false)\n          },\n          notifyOpen: () => {\n            emitCustomEvent(\n              this.$el,\n              MDCMenuSurfaceFoundation.strings.OPENED_EVENT,\n              {}\n            )\n\n            this.$emit('change', true)\n          },\n          isElementInContainer: el => this.$el === el || this.$el.contains(el),\n          isRtl: () =>\n            getComputedStyle(this.$el).getPropertyValue('direction') === 'rtl',\n          setTransformOrigin: origin => {\n            this.$el.style[\n              `${util.getTransformPropertyName(window)}-origin`\n            ] = origin\n          }\n        },\n        this.getFocusAdapterMethods(),\n        this.getDimensionAdapterMethods()\n      )\n    )\n\n    if (\n      this.$el.parentElement &&\n      this.$el.parentElement.classList.contains(\n        MDCMenuSurfaceFoundation.cssClasses.ANCHOR\n      )\n    ) {\n      this.anchorElement = this.$el.parentElement\n    }\n\n    this.foundation.init()\n  },\n  beforeDestroy() {\n    this._previousFocus = null\n\n    this.foundation.destroy()\n  },\n\n  methods: {\n    handleBodyClick(evt) {\n      this.foundation.handleBodyClick(evt)\n    },\n\n    registerBodyClickListener() {\n      document.body.addEventListener('click', this.handleBodyClick)\n    },\n    deregisterBodyClickListener() {\n      document.body.removeEventListener('click', this.handleBodyClick)\n    },\n    handleKeydown(evt) {\n      this.foundation.handleKeydown(evt)\n    },\n    getFocusAdapterMethods() {\n      return {\n        isFocused: () => document.activeElement === this.$el,\n        saveFocus: () => {\n          this.previousFocus_ = document.activeElement\n        },\n        restoreFocus: () => {\n          if (this.$el.contains(document.activeElement)) {\n            if (this.previousFocus_ && this.previousFocus_.focus) {\n              this.previousFocus_.focus()\n            }\n          }\n        },\n        isFirstElementFocused: () =>\n          this.firstFocusableElement_ &&\n          this.firstFocusableElement_ === document.activeElement,\n        isLastElementFocused: () =>\n          this.lastFocusableElement_ &&\n          this.lastFocusableElement_ === document.activeElement,\n        focusFirstElement: () =>\n          this.firstFocusableElement_ &&\n          this.firstFocusableElement_.focus &&\n          this.firstFocusableElement_.focus(),\n        focusLastElement: () =>\n          this.lastFocusableElement_ &&\n          this.lastFocusableElement_.focus &&\n          this.lastFocusableElement_.focus()\n      }\n    },\n    getDimensionAdapterMethods() {\n      return {\n        getInnerDimensions: () => {\n          return {\n            width: this.$el.offsetWidth,\n            height: this.$el.offsetHeight\n          }\n        },\n        getAnchorDimensions: () =>\n          this.anchorElement && this.anchorElement.getBoundingClientRect(),\n        getWindowDimensions: () => {\n          return { width: window.innerWidth, height: window.innerHeight }\n        },\n        getBodyDimensions: () => {\n          return {\n            width: document.body.clientWidth,\n            height: document.body.clientHeight\n          }\n        },\n        getWindowScroll: () => {\n          return { x: window.pageXOffset, y: window.pageYOffset }\n        },\n        setPosition: position => {\n          this.$el.style.left = 'left' in position ? position.left : null\n          this.$el.style.right = 'right' in position ? position.right : null\n          this.$el.style.top = 'top' in position ? position.top : null\n          this.$el.style.bottom = 'bottom' in position ? position.bottom : null\n        },\n        setMaxHeight: height => {\n          this.$el.style.maxHeight = height\n        }\n      }\n    },\n\n    onOpen_(value) {\n      if (value) {\n        const focusableElements = this.$el.querySelectorAll(\n          MDCMenuSurfaceFoundation.strings.FOCUSABLE_ELEMENTS\n        )\n        this.firstFocusableElement_ =\n          focusableElements.length > 0 ? focusableElements[0] : null\n        this.lastFocusableElement_ =\n          focusableElements.length > 0\n            ? focusableElements[focusableElements.length - 1]\n            : null\n        this.foundation.open()\n      } else {\n        this.foundation.close()\n      }\n    },\n    hoistMenuToBody() {\n      document.body.appendChild(this.$el.parentElement.removeChild(this.$el))\n      this.setIsHoisted(true)\n    },\n    setIsHoisted(isHoisted) {\n      this.foundation.setIsHoisted(isHoisted)\n    },\n    setMenuSurfaceAnchorElement(element) {\n      this.anchorElement = element\n    },\n    setFixedPosition(isFixed) {\n      if (isFixed) {\n        this.$el.classList.add(cssClasses.FIXED)\n      } else {\n        this.$el.classList.remove(cssClasses.FIXED)\n      }\n\n      this.foundation.setFixedPosition(isFixed)\n    },\n    setAbsolutePosition(x, y) {\n      this.foundation.setAbsolutePosition(x, y)\n      this.setIsHoisted(true)\n    },\n    setAnchorCorner(corner) {\n      this.foundation.setAnchorCorner(corner)\n    },\n    setAnchorMargin(margin) {\n      this.foundation.setAnchorMargin(margin)\n    },\n    show(options) {\n      this.foundation.open(options)\n    },\n    hide() {\n      this.foundation.close()\n    },\n    isOpen() {\n      return this.foundation ? this.foundation.isOpen() : false\n    }\n  }\n}\n</script>\n","<template>\n  <li\n    :tabindex=\"disabled ? '-1' : '0'\"\n    :aria-disabled=\"disabled\"\n    class=\"mdc-menu-item mdc-list-item\"\n    role=\"menuitem\"\n  >\n    <slot />\n  </li>\n</template>\n\n<script>\nexport default {\n  name: 'mdc-menu-item',\n  props: {\n    disabled: Boolean\n  },\n  inject: ['mdcMenu'],\n\n  mounted() {\n    console.dir(this.mdcMenu)\n    this.mdcMenu.items.push(this.$el)\n  }\n}\n</script>\n","<template>\n  <li \n    role=\"separator\" \n    class=\"mdc-menu-divider mdc-list-divider\"/>\n</template>\n\n<script>\nexport default {\n  name: 'mdc-menu-divider'\n}\n</script>\n","<template>\n  <div class=\"mdc-menu-surface--anchor\"><slot /></div>\n</template>\n\n<script>\nexport default {\n  name: 'mdc-menu-anchor'\n}\n</script>\n","import { BasePlugin } from '../base'\nimport mdcMenu from './mdc-menu.vue'\nimport mdcMenuSurface from './mdc-menu-surface.vue'\nimport mdcMenuItem from './mdc-menu-item.vue'\nimport mdcMenuDivider from './mdc-menu-divider.vue'\nimport mdcMenuAnchor from './mdc-menu-anchor.vue'\n\nexport { mdcMenu, mdcMenuItem, mdcMenuDivider, mdcMenuAnchor }\n\nexport default BasePlugin({\n  mdcMenu,\n  mdcMenuSurface,\n  mdcMenuItem,\n  mdcMenuDivider,\n  mdcMenuAnchor\n})\n"],"names":["BasePlugin","components","version","install","vm","key","component","name","emitCustomEvent","el","evtType","evtData","shouldBubble","evt","CustomEvent","detail","bubbles","document","createEvent","initCustomEvent","dispatchEvent","scope","Math","floor","random","toString","MDCFoundation","adapter","adapter_","MDCMenuAdapter","index","className","attr","value","element","selectionGroup","cssClasses","ROOT","MENU_SELECTED_LIST_ITEM","MENU_SELECTION_GROUP","strings","SELECTED_EVENT","ARIA_SELECTED_ATTR","LIST_SELECTOR","CHECKBOX_SELECTOR","MDCMenuSurfaceAdapter","origin","position","height","ANCHOR","ANIMATING_CLOSED","ANIMATING_OPEN","FIXED","OPEN","CLOSED_EVENT","OPENED_EVENT","FOCUSABLE_ELEMENTS","numbers","TRANSITION_OPEN_DURATION","TRANSITION_CLOSE_DURATION","MARGIN_TO_EDGE","ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO","CornerBit","BOTTOM","CENTER","RIGHT","FLIP_RTL","Corner","TOP_LEFT","TOP_RIGHT","BOTTOM_LEFT","BOTTOM_RIGHT","TOP_START","TOP_END","BOTTOM_START","BOTTOM_END","MDCMenuSurfaceFoundation","addClass","removeClass","hasClass","hasAnchor","notifyClose","notifyOpen","isElementInContainer","isRtl","setTransformOrigin","isFocused","saveFocus","restoreFocus","isFirstElementFocused","isLastElementFocused","focusFirstElement","focusLastElement","getInnerDimensions","getAnchorDimensions","getWindowDimensions","getBodyDimensions","getWindowScroll","setPosition","setMaxHeight","defaultAdapter","isOpen_","openAnimationEndTimerId_","closeAnimationEndTimerId_","animationRequestId_","dimensions_","anchorCorner_","anchorMargin_","top","right","bottom","left","measures_","quickOpen_","hoistedElement_","isFixedPosition_","position_","x","y","Error","clearTimeout","cancelAnimationFrame","corner","margin","isHoisted","isFixedPosition","typeCheckisFinite_","quickOpen","target","close","keyCode","shiftKey","isEscape","isTab","preventDefault","anchorRect","viewport","bodyDimensions","windowScroll","width","viewportDistance","anchorHeight","anchorWidth","surfaceHeight","surfaceWidth","isBottomAligned","Boolean","availableTop","availableBottom","topOverflow","bottomOverflow","isFlipRtl","avoidHorizontalOverlap","isAlignedRight","availableLeft","availableRight","leftOverflow","rightOverflow","isRightAligned","rightOffset","avoidVerticalOverlap","maxHeight","getAutoLayoutMeasurements_","getOriginCorner_","maxMenuSurfaceHeight","getMenuSurfaceMaxHeight_","verticalAlignment","horizontalAlignment","horizontalOffset","getHorizontalOriginOffset_","verticalOffset","getVerticalOriginOffset_","adjustPositionForHoistedElement_","prop","hasOwnProperty","parseInt","requestAnimationFrame","autoPosition_","setTimeout","maybeRestoreFocus_","activeElement","num","isFinite","MDCListAdapter","attribute","listItemIndex","tabIndexValue","isChecked","LIST_ITEM_CLASS","LIST_ITEM_SELECTED_CLASS","LIST_ITEM_ACTIVATED_CLASS","ARIA_ORIENTATION","ARIA_ORIENTATION_HORIZONTAL","ARIA_SELECTED","ARIA_CHECKED","ARIA_CHECKED_RADIO_SELECTOR","ARIA_ROLE_CHECKBOX_SELECTOR","ARIA_CHECKED_CHECKBOX_SELECTOR","RADIO_SELECTOR","CHECKBOX_RADIO_SELECTOR","CHILD_ELEMENTS_TO_TOGGLE_TABINDEX","FOCUSABLE_CHILD_ELEMENTS","ENABLED_ITEMS_SELECTOR","ACTION_EVENT","ELEMENTS_KEY_ALLOWED_IN","MDCListFoundation","getListItemCount","getFocusedElementIndex","setAttributeForElementIndex","removeAttributeForElementIndex","addClassForElementIndex","removeClassForElementIndex","focusItemAtIndex","setTabIndexForListItemChildren","hasRadioAtIndex","hasCheckboxAtIndex","isCheckboxCheckedAtIndex","setCheckedCheckboxOrRadioAtIndex","notifyAction","isFocusInsideList","wrapFocus_","isVertical_","isSingleSelectionList_","selectedIndex_","focusedItemIndex_","useActivatedClass_","isCheckboxList_","isRadioList_","useActivated","isIndexValid_","setCheckboxAtIndex_","setRadioAtIndex_","setSingleSelectionAtIndex_","setTabindexToFirstSelectedItem_","isRootListItem","arrowLeft","arrowUp","arrowRight","arrowDown","isHome","isEnd","isEnter","isSpace","currentIndex","nextIndex","preventDefaultEvent_","focusNextElement","focusPrevElement","tagName","isSelectableList_","setSelectedIndexOnAction_","setTabindexAtIndex_","toggleCheckbox","toLowerCase","indexOf","count","prevIndex","lastIndex","selectedClassName","i","targetIndex","Array","length","reduce","minIndex","min","some","isIndexInRange_","listSize","toggleCheckboxAtIndex_","setSelectedIndex","push","filter","MDCMenuFoundation","addClassToElementAtIndex","removeClassFromElementAtIndex","addAttributeToElementAtIndex","removeAttributeFromElementAtIndex","elementContainsClass","closeSurface","getElementIndex","getParentElement","getSelectedElementIndex","notifySelected","listItem","getSelectionGroup_","handleSelectionGroup_","selectedIndex","parent","isGroup","isListItem","storedTransformPropertyName_","getTransformPropertyName","globalObj","forceRefresh","undefined","createElement","transformPropertyName","style","mdcMenu","mdcMenuSurface","mdcMenuItem","mdcMenuDivider","mdcMenuAnchor"],"mappings":"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"}